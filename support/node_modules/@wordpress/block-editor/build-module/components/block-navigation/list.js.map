{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/list.js"],"names":["isNil","map","omitBy","useMemo","createContext","ButtonBlockAppender","BlockNavigationBranch","BlockNavigationContext","__experimentalWithBlockNavigationSlots","BlockNavigationList","blocks","selectedBlockClientId","selectBlock","showAppender","showNestedBlocks","parentBlockClientId","shouldShowAppender","block","isSelected","clientId","innerBlocks","length","defaultProps","BlockNavigationListWrapper","props","blockNavigationContext"],"mappings":";;;AAAA;;;AAGA,SAASA,KAAT,EAAgBC,GAAhB,EAAqBC,MAArB,QAAmC,QAAnC;AAEA;;;;AAGA,SAASC,OAAT,EAAkBC,aAAlB,QAAuC,oBAAvC;AAEA;;;;AAGA,OAAOC,mBAAP,MAAgC,0BAAhC;AACA,OAAOC,qBAAP,MAAkC,UAAlC;AAEA,OAAO,IAAMC,sBAAsB,GAAGH,aAAa,CAAE;AACpDI,EAAAA,sCAAsC,EAAE;AADY,CAAF,CAA5C;;AAIP,SAASC,mBAAT,OASI;AAAA,MARHC,MAQG,QARHA,MAQG;AAAA,MAPHC,qBAOG,QAPHA,qBAOG;AAAA,MANHC,WAMG,QANHA,WAMG;AAAA,MALHC,YAKG,QALHA,YAKG;AAAA,MAFHC,gBAEG,QAFHA,gBAEG;AAAA,MADHC,mBACG,QADHA,mBACG;AACH,MAAMC,kBAAkB,GAAGH,YAAY,IAAI,CAAC,CAAEE,mBAA9C;AAEA;AACC;;;;;AAIA;AACA;AAAI,MAAA,SAAS,EAAC,qCAAd;AAAoD,MAAA,IAAI,EAAC;AAAzD,OACGd,GAAG,CAAEC,MAAM,CAAEQ,MAAF,EAAUV,KAAV,CAAR,EAA2B,UAAEiB,KAAF,EAAa;AAC5C,UAAMC,UAAU,GAAGD,KAAK,CAACE,QAAN,KAAmBR,qBAAtC;AACA,aACC,cAAC,qBAAD;AACC,QAAA,KAAK,EAAGM,KADT;AAEC,QAAA,GAAG,EAAGA,KAAK,CAACE,QAFb;AAGC,QAAA,UAAU,EAAGD,UAHd;AAIC,QAAA,OAAO,EAAG;AAAA,iBAAMN,WAAW,CAAEK,KAAK,CAACE,QAAR,CAAjB;AAAA;AAJX,SAMGL,gBAAgB,IACjB,CAAC,CAAEG,KAAK,CAACG,WADR,IAED,CAAC,CAAEH,KAAK,CAACG,WAAN,CAAkBC,MAFpB,IAGA,cAAC,mBAAD;AACC,QAAA,MAAM,EAAGJ,KAAK,CAACG,WADhB;AAEC,QAAA,qBAAqB,EACpBT,qBAHF;AAKC,QAAA,WAAW,EAAGC,WALf;AAMC,QAAA,mBAAmB,EAAGK,KAAK,CAACE,QAN7B;AAOC,QAAA,YAAY,EAAGN,YAPhB;AAQC,QAAA,gBAAgB;AARjB,QATH,CADD;AAuBA,KAzBI,CADN,EA2BGG,kBAAkB,IACnB,0BACC;AAAK,MAAA,SAAS,EAAC;AAAf,OACC,cAAC,mBAAD;AACC,MAAA,YAAY,EAAGD,mBADhB;AAEC,MAAA,iCAAiC,EAAG;AAFrC,MADD,CADD,CA5BF;AAsCA;;AA5CD;AA8CA;;AAEDN,mBAAmB,CAACa,YAApB,GAAmC;AAClCV,EAAAA,WAAW,EAAE,uBAAM,CAAE;AADa,CAAnC;AAIA,eAAe,SAASW,0BAAT,QAGX;AAAA,MAFHf,sCAEG,SAFHA,sCAEG;AAAA,MADAgB,KACA;;AACH,MAAMC,sBAAsB,GAAGtB,OAAO,CACrC;AAAA,WAAQ;AAAEK,MAAAA,sCAAsC,EAAtCA;AAAF,KAAR;AAAA,GADqC,EAErC,CAAEA,sCAAF,CAFqC,CAAtC;AAIA,SACC,cAAC,sBAAD,CAAwB,QAAxB;AAAiC,IAAA,KAAK,EAAGiB;AAAzC,KACC,cAAC,mBAAD,EAA0BD,KAA1B,CADD,CADD;AAKA","sourcesContent":["/**\n * External dependencies\n */\nimport { isNil, map, omitBy } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo, createContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ButtonBlockAppender from '../button-block-appender';\nimport BlockNavigationBranch from './branch';\n\nexport const BlockNavigationContext = createContext( {\n\t__experimentalWithBlockNavigationSlots: false,\n} );\n\nfunction BlockNavigationList( {\n\tblocks,\n\tselectedBlockClientId,\n\tselectBlock,\n\tshowAppender,\n\n\t// Internal use only.\n\tshowNestedBlocks,\n\tparentBlockClientId,\n} ) {\n\tconst shouldShowAppender = showAppender && !! parentBlockClientId;\n\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<ul className=\"block-editor-block-navigation__list\" role=\"list\">\n\t\t\t{ map( omitBy( blocks, isNil ), ( block ) => {\n\t\t\t\tconst isSelected = block.clientId === selectedBlockClientId;\n\t\t\t\treturn (\n\t\t\t\t\t<BlockNavigationBranch\n\t\t\t\t\t\tblock={ block }\n\t\t\t\t\t\tkey={ block.clientId }\n\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\tonClick={ () => selectBlock( block.clientId ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ showNestedBlocks &&\n\t\t\t\t\t\t\t!! block.innerBlocks &&\n\t\t\t\t\t\t\t!! block.innerBlocks.length && (\n\t\t\t\t\t\t\t\t<BlockNavigationList\n\t\t\t\t\t\t\t\t\tblocks={ block.innerBlocks }\n\t\t\t\t\t\t\t\t\tselectedBlockClientId={\n\t\t\t\t\t\t\t\t\t\tselectedBlockClientId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t\t\t\t\tparentBlockClientId={ block.clientId }\n\t\t\t\t\t\t\t\t\tshowAppender={ showAppender }\n\t\t\t\t\t\t\t\t\tshowNestedBlocks\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</BlockNavigationBranch>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ shouldShowAppender && (\n\t\t\t\t<li>\n\t\t\t\t\t<div className=\"block-editor-block-navigation__item\">\n\t\t\t\t\t\t<ButtonBlockAppender\n\t\t\t\t\t\t\trootClientId={ parentBlockClientId }\n\t\t\t\t\t\t\t__experimentalSelectBlockOnInsert={ false }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t) }\n\t\t</ul>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nBlockNavigationList.defaultProps = {\n\tselectBlock: () => {},\n};\n\nexport default function BlockNavigationListWrapper( {\n\t__experimentalWithBlockNavigationSlots,\n\t...props\n} ) {\n\tconst blockNavigationContext = useMemo(\n\t\t() => ( { __experimentalWithBlockNavigationSlots } ),\n\t\t[ __experimentalWithBlockNavigationSlots ]\n\t);\n\treturn (\n\t\t<BlockNavigationContext.Provider value={ blockNavigationContext }>\n\t\t\t<BlockNavigationList { ...props } />\n\t\t</BlockNavigationContext.Provider>\n\t);\n}\n"]}