{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/index.js"],"names":["BlockNavigation","rootBlock","rootBlocks","selectedBlockClientId","selectBlock","__experimentalWithBlockNavigationSlots","length","hasHierarchy","clientId","innerBlocks","select","getSelectedBlockClientId","getBlockHierarchyRootClientId","getBlock","getBlocks","dispatch","onSelect","noop"],"mappings":";;;;;;;;;;;AAGA;;AAKA;;AACA;;AACA;;AACA;;AAKA;;AAhBA;;;;AAKA;;;;AAQA;;;AAKA,SAASA,eAAT,OAMI;AAAA,MALHC,SAKG,QALHA,SAKG;AAAA,MAJHC,UAIG,QAJHA,UAIG;AAAA,MAHHC,qBAGG,QAHHA,qBAGG;AAAA,MAFHC,WAEG,QAFHA,WAEG;AAAA,MADHC,sCACG,QADHA,sCACG;;AACH,MAAK,CAAEH,UAAF,IAAgBA,UAAU,CAACI,MAAX,KAAsB,CAA3C,EAA+C;AAC9C,WAAO,IAAP;AACA;;AAED,MAAMC,YAAY,GACjBN,SAAS,KACPA,SAAS,CAACO,QAAV,KAAuBL,qBAAvB,IACCF,SAAS,CAACQ,WAAV,IAAyBR,SAAS,CAACQ,WAAV,CAAsBH,MAAtB,KAAiC,CAFpD,CADV;AAKA,SACC,4BAAC,yBAAD;AACC,IAAA,IAAI,EAAC,cADN;AAEC,IAAA,SAAS,EAAC;AAFX,KAIC;AAAG,IAAA,SAAS,EAAC;AAAb,KACG,cAAI,kBAAJ,CADH,CAJD,EAOGC,YAAY,IACb,4BAAC,aAAD;AACC,IAAA,MAAM,EAAG,CAAEN,SAAF,CADV;AAEC,IAAA,qBAAqB,EAAGE,qBAFzB;AAGC,IAAA,WAAW,EAAGC,WAHf;AAIC,IAAA,sCAAsC,EACrCC,sCALF;AAOC,IAAA,gBAAgB;AAPjB,IARF,EAkBG,CAAEE,YAAF,IACD,4BAAC,aAAD;AACC,IAAA,MAAM,EAAGL,UADV;AAEC,IAAA,qBAAqB,EAAGC,qBAFzB;AAGC,IAAA,WAAW,EAAGC,WAHf;AAIC,IAAA,sCAAsC,EACrCC;AALF,IAnBF,CADD;AA+BA;;eAEc,sBACd,sBAAY,UAAEK,MAAF,EAAc;AAAA,gBAMrBA,MAAM,CAAE,mBAAF,CANe;AAAA,MAExBC,wBAFwB,WAExBA,wBAFwB;AAAA,MAGxBC,6BAHwB,WAGxBA,6BAHwB;AAAA,MAIxBC,QAJwB,WAIxBA,QAJwB;AAAA,MAKxBC,SALwB,WAKxBA,SALwB;;AAOzB,MAAMX,qBAAqB,GAAGQ,wBAAwB,EAAtD;AACA,SAAO;AACNT,IAAAA,UAAU,EAAEY,SAAS,EADf;AAENb,IAAAA,SAAS,EAAEE,qBAAqB,GAC7BU,QAAQ,CACRD,6BAA6B,CAAET,qBAAF,CADrB,CADqB,GAI7B,IANG;AAONA,IAAAA,qBAAqB,EAArBA;AAPM,GAAP;AASA,CAjBD,CADc,EAmBd,wBAAc,UAAEY,QAAF,SAAqC;AAAA,6BAAvBC,QAAuB;AAAA,MAAvBA,QAAuB,+BAAZC,YAAY;AAClD,SAAO;AACNb,IAAAA,WADM,uBACOI,QADP,EACkB;AACvBO,MAAAA,QAAQ,CAAE,mBAAF,CAAR,CAAgCX,WAAhC,CAA6CI,QAA7C;AACAQ,MAAAA,QAAQ,CAAER,QAAF,CAAR;AACA;AAJK,GAAP;AAMA,CAPD,CAnBc,EA2BZR,eA3BY,C","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { NavigableMenu } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockNavigationList from './list';\n\nfunction BlockNavigation( {\n\trootBlock,\n\trootBlocks,\n\tselectedBlockClientId,\n\tselectBlock,\n\t__experimentalWithBlockNavigationSlots,\n} ) {\n\tif ( ! rootBlocks || rootBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst hasHierarchy =\n\t\trootBlock &&\n\t\t( rootBlock.clientId !== selectedBlockClientId ||\n\t\t\t( rootBlock.innerBlocks && rootBlock.innerBlocks.length !== 0 ) );\n\n\treturn (\n\t\t<NavigableMenu\n\t\t\trole=\"presentation\"\n\t\t\tclassName=\"block-editor-block-navigation__container\"\n\t\t>\n\t\t\t<p className=\"block-editor-block-navigation__label\">\n\t\t\t\t{ __( 'Block navigation' ) }\n\t\t\t</p>\n\t\t\t{ hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ [ rootBlock ] }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t__experimentalWithBlockNavigationSlots={\n\t\t\t\t\t\t__experimentalWithBlockNavigationSlots\n\t\t\t\t\t}\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! hasHierarchy && (\n\t\t\t\t<BlockNavigationList\n\t\t\t\t\tblocks={ rootBlocks }\n\t\t\t\t\tselectedBlockClientId={ selectedBlockClientId }\n\t\t\t\t\tselectBlock={ selectBlock }\n\t\t\t\t\t__experimentalWithBlockNavigationSlots={\n\t\t\t\t\t\t__experimentalWithBlockNavigationSlots\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</NavigableMenu>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlockHierarchyRootClientId,\n\t\t\tgetBlock,\n\t\t\tgetBlocks,\n\t\t} = select( 'core/block-editor' );\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\treturn {\n\t\t\trootBlocks: getBlocks(),\n\t\t\trootBlock: selectedBlockClientId\n\t\t\t\t? getBlock(\n\t\t\t\t\t\tgetBlockHierarchyRootClientId( selectedBlockClientId )\n\t\t\t\t  )\n\t\t\t\t: null,\n\t\t\tselectedBlockClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { onSelect = noop } ) => {\n\t\treturn {\n\t\t\tselectBlock( clientId ) {\n\t\t\t\tdispatch( 'core/block-editor' ).selectBlock( clientId );\n\t\t\t\tonSelect( clientId );\n\t\t\t},\n\t\t};\n\t} )\n)( BlockNavigation );\n"]}