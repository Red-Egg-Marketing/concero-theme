{"version":3,"sources":["@wordpress/block-editor/src/components/block-mover/index.native.js"],"names":["horizontalMover","backwardButtonIcon","arrowLeft","forwardButtonIcon","arrowRight","backwardButtonHint","forwardButtonHint","firstBlockTitle","lastBlockTitle","backwardButtonTitle","forwardButtonTitle","verticalMover","arrowUp","arrowDown","BlockMover","isFirst","isLast","isRTL","isLocked","onMoveDown","onMoveUp","firstIndex","rootClientId","isStackedHorizontally","switchButtonPropIfRTL","isBackwardButton","forwardButtonProp","backwardButtonProp","getMoverButtonTitle","fromIndex","direction","toIndex","buttonTitle","getArrowIcon","hint","select","clientIds","getBlockIndex","getTemplateLock","getBlockRootClientId","getBlockOrder","getSettings","normalizedClientIds","firstClientId","blockOrder","lastIndex","length","dispatch","moveBlocksDown","moveBlocksUp","withInstanceId"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { first, last, partial, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { ToolbarButton } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport { arrowUp, arrowDown, arrowLeft, arrowRight } from '@wordpress/icons';\n\nconst horizontalMover = {\n\tbackwardButtonIcon: arrowLeft,\n\tforwardButtonIcon: arrowRight,\n\tbackwardButtonHint: __( 'Double tap to move the block to the left' ),\n\tforwardButtonHint: __( 'Double tap to move the block to the right' ),\n\tfirstBlockTitle: __( 'Move block left' ),\n\tlastBlockTitle: __( 'Move block right' ),\n\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\tbackwardButtonTitle: __(\n\t\t'Move block left from position %1$s to position %2$s'\n\t),\n\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\tforwardButtonTitle: __(\n\t\t'Move block right from position %1$s to position %2$s'\n\t),\n};\n\nconst verticalMover = {\n\tbackwardButtonIcon: arrowUp,\n\tforwardButtonIcon: arrowDown,\n\tbackwardButtonHint: __( 'Double tap to move the block up' ),\n\tforwardButtonHint: __( 'Double tap to move the block down' ),\n\tfirstBlockTitle: __( 'Move block up' ),\n\tlastBlockTitle: __( 'Move block down' ),\n\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\tbackwardButtonTitle: __( 'Move block up from row %1$s to row %2$s' ),\n\t/* translators: accessibility text. %1: current block position (number). %2: next block position (number) */\n\tforwardButtonTitle: __( 'Move block down from row %1$s to row %2$s' ),\n};\n\nconst BlockMover = ( {\n\tisFirst,\n\tisLast,\n\tisRTL,\n\tisLocked,\n\tonMoveDown,\n\tonMoveUp,\n\tfirstIndex,\n\trootClientId,\n\tisStackedHorizontally,\n} ) => {\n\tconst {\n\t\tbackwardButtonIcon,\n\t\tforwardButtonIcon,\n\t\tbackwardButtonHint,\n\t\tforwardButtonHint,\n\t\tfirstBlockTitle,\n\t\tlastBlockTitle,\n\t} = isStackedHorizontally ? horizontalMover : verticalMover;\n\n\tif ( isLocked || ( isFirst && isLast && ! rootClientId ) ) {\n\t\treturn null;\n\t}\n\n\tconst switchButtonPropIfRTL = (\n\t\tisBackwardButton,\n\t\tforwardButtonProp,\n\t\tbackwardButtonProp\n\t) => {\n\t\tif ( isRTL && isStackedHorizontally ) {\n\t\t\t// for RTL and horizontal direction switch prop between forward and backward button\n\t\t\tif ( isBackwardButton ) {\n\t\t\t\treturn forwardButtonProp; // set forwardButtonProp for backward button\n\t\t\t}\n\t\t\treturn backwardButtonProp; // set backwardButtonProp for forward button\n\t\t}\n\n\t\treturn isBackwardButton ? backwardButtonProp : forwardButtonProp;\n\t};\n\n\tconst getMoverButtonTitle = ( isBackwardButton ) => {\n\t\tconst fromIndex = firstIndex + 1; // current position based on index\n\t\t// for backwardButton decrease index (move left/up) for forwardButton increase index (move right/down)\n\t\tconst direction = isBackwardButton ? -1 : 1;\n\t\tconst toIndex = fromIndex + direction; // position after move\n\n\t\tconst {\n\t\t\tbackwardButtonTitle,\n\t\t\tforwardButtonTitle,\n\t\t} = isStackedHorizontally ? horizontalMover : verticalMover;\n\n\t\tconst buttonTitle = switchButtonPropIfRTL(\n\t\t\tisBackwardButton,\n\t\t\tforwardButtonTitle,\n\t\t\tbackwardButtonTitle\n\t\t);\n\n\t\treturn sprintf( buttonTitle, fromIndex, toIndex );\n\t};\n\n\tconst getArrowIcon = ( isBackwardButton ) =>\n\t\tswitchButtonPropIfRTL(\n\t\t\tisBackwardButton,\n\t\t\tforwardButtonIcon,\n\t\t\tbackwardButtonIcon\n\t\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={\n\t\t\t\t\t! isFirst ? getMoverButtonTitle( true ) : firstBlockTitle\n\t\t\t\t}\n\t\t\t\tisDisabled={ isFirst }\n\t\t\t\tonClick={ onMoveUp }\n\t\t\t\ticon={ getArrowIcon( true ) }\n\t\t\t\textraProps={ { hint: backwardButtonHint } }\n\t\t\t/>\n\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={ ! isLast ? getMoverButtonTitle() : lastBlockTitle }\n\t\t\t\tisDisabled={ isLast }\n\t\t\t\tonClick={ onMoveDown }\n\t\t\t\ticon={ getArrowIcon() }\n\t\t\t\textraProps={ {\n\t\t\t\t\thint: forwardButtonHint,\n\t\t\t\t} }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default compose(\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlockIndex,\n\t\t\tgetTemplateLock,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockOrder,\n\t\t\tgetSettings,\n\t\t} = select( 'core/block-editor' );\n\t\tconst normalizedClientIds = castArray( clientIds );\n\t\tconst firstClientId = first( normalizedClientIds );\n\t\tconst rootClientId = getBlockRootClientId( firstClientId );\n\t\tconst blockOrder = getBlockOrder( rootClientId );\n\t\tconst firstIndex = getBlockIndex( firstClientId, rootClientId );\n\t\tconst lastIndex = getBlockIndex(\n\t\t\tlast( normalizedClientIds ),\n\t\t\trootClientId\n\t\t);\n\n\t\treturn {\n\t\t\tfirstIndex,\n\t\t\tisFirst: firstIndex === 0,\n\t\t\tisLast: lastIndex === blockOrder.length - 1,\n\t\t\tisRTL: getSettings().isRTL,\n\t\t\tisLocked: getTemplateLock( rootClientId ) === 'all',\n\t\t\trootClientId,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, rootClientId } ) => {\n\t\tconst { moveBlocksDown, moveBlocksUp } = dispatch(\n\t\t\t'core/block-editor'\n\t\t);\n\t\treturn {\n\t\t\tonMoveDown: partial( moveBlocksDown, clientIds, rootClientId ),\n\t\t\tonMoveUp: partial( moveBlocksUp, clientIds, rootClientId ),\n\t\t};\n\t} ),\n\twithInstanceId\n)( BlockMover );\n"]}